{% extends 'base.html.twig' %}

{% block title %}
  CSV Table
{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <link rel="stylesheet" href="{{ asset('assets/csv-view/style.css') }}" />
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script src="{{ asset('assets/csv-view/javascript.js') }}"></script>
  <script>
    window.apiUri = "{{ path('csv-api-index') }}"
  </script>
{% endblock %}

{% block body %}
  <div class="container-xl">
    <h3 class="my-4">CSV Data Table</h3>

    <div id="errorBox" class="alert alert-danger" style="display: none;">
      <span id="errorMessage"></span>
    </div>

    <div class="form-wrapper">
      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="csvUploadId">CSV Upload ID:</label>
          <input type="number" id="csvUploadId" class="form-control" value="{{ csvUploadId }}" />
        </div>
        <div class="form-group col-md-4">
          <label for="perPage">Items per Page:</label>
          <input type="number" id="perPage" class="form-control" value="10" />
        </div>
        <div class="form-group col-md-4">
          <label for="currentPage">Current Page:</label>
          <input type="number" id="currentPage" class="form-control" value="" />
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="fileName">File Name:</label>
          <input type="text" id="fileName" class="form-control" value="" disabled />
        </div>
        <div class="form-group col-md-4">
          <label for="fileName">Created:</label>
          <input type="text" id="created" class="form-control" value="" disabled />
        </div>
      </div>
    </div>

    <table id="data-table" class="table table-bordered">
      <thead class="thead-light">
        <tr id="table-headers"></tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table>
    <div class="pagination">
      <!-- Pagination buttons will be dynamically generated here -->
    </div>
  </div>
{% endblock %}
